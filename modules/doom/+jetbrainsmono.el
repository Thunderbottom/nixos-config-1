;;; +jetbrainsmono.el -*- lexical-binding: t; -*-
;;; doesn't work yet :)

(defvar +pretty-code-jetbrainsmono-font-name "JetBrainsMono"
  "Name of the JetBrains ligature font.")

(defvar +pretty-code-jetbrainsmono-font-ligatures
  '(
    ("-->"   . #X10001)
    ("//"    . #X10002)
    ("/*"    . #X10003)
    ("*/"    . #X10004)
    ("<!--"  . #X10005)
    (":="    . #X10006)
    ("->>"   . #X10007)
    ("<<-"   . #X10008)
    ("->"    . #X10009)
    ("<-"    . #X1000a)
    ("<=>"   . #X1000b)
    ("=="    . #X1000c)
    ("!="    . #X1000d)
    ("<="    . #X1000e)
    (">="    . #X1000f)
    ("=:="   . #X10010)
    ("!=="   . #X10011)
    ("&&"    . #X10012)
    ("||"    . #X10013)
    ("..."   . #X10014)
    (".."    . #X10015)
    ;;
    ("|||"   . #X10024)
    ("///"   . #X10025)
    ("&&&"   . #X10026)
    ("==="   . #X10027)
    ("++"    . #X10028)
    ("--"    . #X10029)
    ("=>"    . #X1002a)
    ("|>"    . #X1002b)
    ("<|"    . #X1002c)
    ("||>"   . #X1002d)
    ("<||"   . #X1002e)
    ("|||>"  . #X1002f)
    ("<|||"  . #X10030)
    (">>"    . #X10031)
    ("<<"    . #X10032)
    ;;
    ("::="   . #X10035)
    ("|]"    . #X10036)
    ("[|"    . #X10037)
    ("{|"    . #X10038)
    ("|}"    . #X10039)
    ("[<"    . #X1003a)
    (">]"    . #X1003b)
    (":?>"   . #X1003c)
    (":?"    . #X1003d)
    ;;
    ("/="    . #X1003f)
    ("[||]"  . #X10040)
    ("!!"    . #X10041)
    ("?:"    . #X10042)
    ("?."    . #X10043)
    ("::"    . #X10044)
    ("+++"   . #X10045)
    ;;
    ("###"   . #X10047)
    ("##"    . #X10048)
    (":::"   . #X10049)
    ("####"  . #X1004a)
    (".?"    . #X1004b)
    ("?="    . #X1004c)
    ("=!="   . #X1004d)
    ("<|>"   . #X1004e)
    ("<:"    . #X1004f)
    (":<"    . #X10050)
    (":>"    . #X10051)
    (">:"    . #X10052)
    ("<>"    . #X10053)
    ("***"   . #X10054)
    (";;"    . #X10055)
    ("/=="   . #X10056)
    (".="    . #X10057)
    (".-"    . #X10058)
    ("__"    . #X10059)
    ("=/="   . #X1005a)
    ("<-<"   . #X1005b)
    ("<<<"   . #X1005c)
    (">>>"   . #X1005d)
    ("<=<"   . #X1005e)
    ("<<="   . #X1005f)
    ("<=="   . #X10060)
    ("<==>"  . #X10061)
    ("==>"   . #X10062)
    ("=>>"   . #X10063)
    (">=>"   . #X10064)
    (">>="   . #X10065)
    (">>-"   . #X10066)
    (">-"    . #X10067)
    ("<~>"   . #X10068)
    ("-<"    . #X10069)
    ("-<<"   . #X1006a)
    ("=<<"   . #X1006b)
    ("---"   . #X1006c)
    ("<-|"   . #X1006d)
    ("<=|"   . #X1006e)
    ("|=>"   . #X1006f)
    ("|->"   . #X10070)
    ("<~~"   . #X10071)
    ("<~"    . #X10072)
    ("~~"    . #X10073)
    ("~~>"   . #X10074)
    ("~>"    . #X10075)
    ("<$>"   . #X10076)
    ("<$"    . #X10077)
    ("$>"    . #X10078)
    ("<+>"   . #X10079)
    ("<+"    . #X1007a)
    ("+>"    . #X1007b)
    ("<*>"   . #X1007c)
    ("<*"    . #X1007d)
    ("*>"    . #X1007e)
    ("</"    . #X1007f)
    ("</>"   . #X10080)
    ("/>"    . #X10081)
    ("<->"   . #X10082)
    ("..<"   . #X10083)
    ("~="    . #X10084)
    ("~-"    . #X10085)
    ("-~"    . #X10086)
    ("~@"    . #X10087)
    ("^="    . #X10088)
    ("-|"    . #X10089)
    ("_|_"   . #X1008a)
    ("|-"    . #X1008b)
    ("||-"   . #X1008c)
    ("|="    . #X1008d)
    ("||="   . #X1008e)
    ("#{"    . #X1008f)
    ("#["    . #X10090)
    ("]#"    . #X10091)
    ("#("    . #X10092)
    ("#?"    . #X10093)
    ("#_"    . #X10094)
    ("#_("   . #X10095)
    ("#:"    . #X10096)
    ("#!"    . #X10097)
    ("#="    . #X10098)
    ("&="    . #X10099)
    ("<#--"  . #X1009a)
    ("<--"   . #X1009b))
  ;;
  "Defines the character mappings for ligatures for JetBrains Mono.")

(defun +pretty-code-setup-jetbrainsmono-ligatures-h ()
  (set-fontset-font t '(#X10001 . #X1009b) +pretty-code-jetbrainsmono-font-name)
  (setq-default prettify-symbols-alist
                (append prettify-symbols-alist
                        +pretty-code-jetbrainsmono-font-ligatures)))

(add-hook 'doom-init-ui-hook #'+pretty-code-setup-jetbrainsmono-ligatures-h)
